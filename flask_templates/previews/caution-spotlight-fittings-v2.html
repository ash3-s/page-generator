{% extends "preview_layout.html" %} {% from 'preview_macros.html' import
HeaderText, ProductActions %} {% block content %}
<div class="bg-white min-h-screen pb-12">
  {{ HeaderText(title, "") }}

  <div
    class="w-full max-w-7xl mx-auto px-4 lg:px-10 py-10 flex flex-col gap-10"
  >
    <!-- Top Section - Two Halves -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
      <!-- Left Half - Product Image & Data Table -->
      <div class="flex flex-col gap-6">
        <div
          class="bg-gray-100 rounded-lg p-6 flex justify-center items-center h-full min-h-[400px]"
        >
          <img
            src="{{ product_image }}"
            alt="{{ title }}"
            class="max-w-full max-h-[400px] object-contain"
          />
        </div>

        {{ ProductActions(None, pdf_file_path) }}

        <div
          class="overflow-x-auto shadow-sm rounded-lg border border-gray-200"
        >
          <table class="min-w-full bg-white border-collapse">
            <thead>
              <tr
                class="bg-blue-600 text-white uppercase text-sm leading-normal"
              >
                <th
                  scope="col"
                  class="px-6 py-3 border-r border-gray-200 font-semibold text-left"
                  colspan="2"
                >
                  Data
                </th>
              </tr>
            </thead>
            <tbody class="text-gray-900 text-sm">
              {% for row in data_table_rows %} {% set rowspan = 1 %} {% if
              row.sub_rows %} {% set rowspan = rowspan + row.sub_rows|length %}
              {% endif %}
              <tr
                class="border-b border-gray-200 hover:bg-gray-50 transition-colors"
              >
                <td
                  class="px-6 py-3 font-medium border-r border-gray-200 whitespace-nowrap w-1/3"
                  {%
                  if
                  rowspan
                >
                  1 %}rowspan="{{ rowspan }}"{% endif %} > {{ row.label }}
                </td>
                <td class="px-6 py-3">{{ row.value }}</td>
              </tr>
              {% if row.sub_rows %} {% for sub in row.sub_rows %}
              <tr
                class="border-b border-gray-200 hover:bg-gray-50 transition-colors"
              >
                <td class="px-6 py-3">{{ sub.value }}</td>
              </tr>
              {% endfor %} {% endif %} {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <!-- Right Half - Engineering Diagram & Spec Table -->
      <div class="flex flex-col gap-6">
        <div
          class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex justify-center items-center"
        >
          <img
            src="{{ diagram_image }}"
            alt="Engineering Diagram"
            class="max-w-full h-auto object-contain"
          />
        </div>
        <div
          class="overflow-x-auto shadow-sm rounded-lg border border-gray-200"
        >
          <table class="min-w-full bg-white border-collapse">
            <thead>
              <tr
                class="bg-blue-600 text-white uppercase text-sm leading-normal"
              >
                <th
                  scope="col"
                  class="px-6 py-3 border-r border-gray-200 font-semibold text-left"
                  colspan="2"
                >
                  Specification
                </th>
              </tr>
            </thead>
            <tbody class="text-gray-900 text-sm">
              {% for row in spec_table_rows %} {% set rowspan = 1 %} {% if
              row.sub_rows %} {% set rowspan = rowspan + row.sub_rows|length %}
              {% endif %}
              <tr
                class="border-b border-gray-200 hover:bg-gray-50 transition-colors"
              >
                <td
                  class="px-6 py-4 font-medium border-r border-gray-200 whitespace-nowrap w-1/3"
                  {%
                  if
                  rowspan
                >
                  1 %}rowspan="{{ rowspan }}"{% endif %} > {{ row.label }}
                </td>
                <td class="px-6 py-4">
                  {% if row.is_ex_rating %}
                  <span
                    class="inline-flex items-center justify-center w-6 h-6 border border-black rounded-sm text-xs font-bold mr-2 select-none"
                    >Ex</span
                  >
                  {% endif %} {{ row.value }}
                </td>
              </tr>
              {% if row.sub_rows %} {% for sub in row.sub_rows %}
              <tr
                class="border-b border-gray-200 hover:bg-gray-50 transition-colors"
              >
                <td class="px-6 py-4">
                  {% if sub.is_ex_rating %}
                  <span
                    class="inline-flex items-center justify-center w-6 h-6 border border-black rounded-sm text-xs font-bold mr-2 select-none"
                    >Ex</span
                  >
                  {% endif %} {{ sub.value }}
                </td>
              </tr>
              {% endfor %} {% endif %} {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
